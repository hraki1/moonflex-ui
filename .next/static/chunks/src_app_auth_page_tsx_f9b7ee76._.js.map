{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ahmad%20Alhraki/Desktop/moonflex/src/app/auth/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useActionState, useState } from \"react\";\r\n// import { useRouter } from \"next/navigation\";\r\n// import { createUserAction } from \"@/lib/actions/CreateUser\";\r\n\r\ntype AuthMode = \"login\" | \"signup\";\r\n\r\nconst AuthPage = () => {\r\n  const [mode, setMode] = useState<AuthMode>(\"login\");\r\n  interface UserData {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n  }\r\n\r\n  type CreateUserResult = { message?: string[]; user?: UserData };\r\n\r\n  const createUserAction = (\r\n    prevFormData: CreateUserResult,\r\n    formData: FormData\r\n  ): CreateUserResult => {\r\n    const user = {\r\n      name: formData.get(\"name\") as string,\r\n      email: formData.get(\"email\") as string,\r\n      password: formData.get(\"password\") as string,\r\n    };\r\n\r\n    const errors: string[] = [];\r\n\r\n    if (user.name.trim() === \"\") {\r\n      errors.push(\"Please fill the name\");\r\n    }\r\n    if (user.password.trim().length < 5) {\r\n      errors.push(\"Password must be 6 charachter\");\r\n    }\r\n\r\n    if (errors.length > 0) {\r\n      return {\r\n        user: user,\r\n        message: errors,\r\n      };\r\n    }\r\n\r\n    console.log(user, errors);\r\n\r\n    return {\r\n      message: [],\r\n    };\r\n  };\r\n\r\n  const [formState, formAction, isLoading] = useActionState(createUserAction, {\r\n    message: [],\r\n    user: {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n  });\r\n\r\n  function toggleMode() {\r\n    setMode((prev) => (prev === \"login\" ? \"signup\" : \"login\"));\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative flex h-screen flex-col bg-black md:mt-[120px] md:items-center md:bg-transparent\">\r\n      <form\r\n        action={formAction}\r\n        className=\"relative mt-24 space-y-6 rounded bg-black/75 py-8 px-6 md:mt-0 md:max-w-md md:px-14\"\r\n      >\r\n        <h1 className=\"text-3xl font-semibold text-white text-center\">\r\n          {mode === \"login\" ? \"Sign In\" : \"Create Account\"}\r\n        </h1>\r\n\r\n        {/* {error && (\r\n          <div className=\"p-3 bg-red-600 text-white rounded text-sm\">\r\n            {error}\r\n          </div>\r\n        )} */}\r\n\r\n        <div className=\"space-y-4\">\r\n          {mode === \"signup\" && (\r\n            <label className=\"inline-block w-full\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Name\"\r\n                value={formState.user?.name}\r\n                className=\"input\"\r\n                disabled={isLoading}\r\n              />\r\n            </label>\r\n          )}\r\n\r\n          <label className=\"inline-block w-full\">\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={formState.user?.email}\r\n              className=\"input\"\r\n              required\r\n              disabled={isLoading}\r\n            />\r\n          </label>\r\n\r\n          <label className=\"inline-block w-full\">\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={formState.user?.password}\r\n              className=\"input\"\r\n              required\r\n              minLength={mode === \"signup\" ? 6 : 4}\r\n              disabled={isLoading}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className={`w-full rounded bg-[#e50914] py-3 font-semibold ${\r\n            isLoading ? \"opacity-60 cursor-not-allowed\" : \"\"\r\n          }`}\r\n        >\r\n          {isLoading\r\n            ? mode === \"login\"\r\n              ? \"Signing In...\"\r\n              : \"Signing Up...\"\r\n            : mode === \"login\"\r\n            ? \"Sign In\"\r\n            : \"Sign Up\"}\r\n        </button>\r\n\r\n        <div className=\"flex justify-between items-center text-[#737373] text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"remember\"\r\n              className=\"mr-1\"\r\n              disabled={isLoading}\r\n            />\r\n            <label htmlFor=\"remember\">Remember me</label>\r\n          </div>\r\n          <a href=\"#\" className=\"hover:underline\">\r\n            Need help?\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"text-[#737373]\">\r\n          {mode === \"login\" ? (\r\n            <>\r\n              New to Netflix?{\" \"}\r\n              <button\r\n                type=\"button\"\r\n                onClick={toggleMode}\r\n                className=\"text-white hover:underline\"\r\n                disabled={isLoading}\r\n              >\r\n                Sign up now\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              Already have an account?{\" \"}\r\n              <button\r\n                type=\"button\"\r\n                onClick={toggleMode}\r\n                className=\"text-white hover:underline\"\r\n                disabled={isLoading}\r\n              >\r\n                Sign in now\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"text-[#737373] text-xs\">\r\n          <p>\r\n            This page is protected by Google reCAPTCHA to ensure you&#39;re not\r\n            a bot.{\" \"}\r\n            <a href=\"#\" className=\"text-blue-500 hover:underline\">\r\n              Learn more.\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}