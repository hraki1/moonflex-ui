{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/league_spartan_562e803c.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"league_spartan_562e803c-module__qVAxta__className\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/league_spartan_562e803c.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22League_Spartan%22,%22arguments%22:[{%22subsets%22:[%22latin%22],%22weight%22:%22400%22}],%22variableName%22:%22neuton%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'League Spartan', 'League Spartan Fallback'\",\n        fontWeight: 400,\nfontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,8JAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,YAAY;QACpB,WAAW;IAEP;AACJ;AAEA,IAAI,8JAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,8JAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ahmad%20Alhraki/Desktop/moonflex/src/providers/QueryClient-Provider.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/providers/QueryClient-Provider.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/providers/QueryClient-Provider.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0S,GACvU,wEACA","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ahmad%20Alhraki/Desktop/moonflex/src/providers/QueryClient-Provider.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/providers/QueryClient-Provider.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/providers/QueryClient-Provider.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsR,GACnT,oDACA","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ahmad%20Alhraki/Desktop/moonflex/src/lib/models/User.ts"],"sourcesContent":["import mongoose, { Schema, Document } from \"mongoose\";\r\n\r\nexport interface IUser extends Document {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  favoriteFilms: string[];\r\n}\r\n\r\nconst UserSchema = new Schema<IUser>(\r\n  {\r\n    name: { type: String, required: true },\r\n    email: { type: String, required: true, unique: true },\r\n    password: { type: String, required: true },\r\n    favoriteFilms: [{ type: String }],\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\nconst User = mongoose.models.User || mongoose.model<IUser>(\"User\", UserSchema);\r\n\r\nexport default User;\r\n"],"names":[],"mappings":";;;AAAA;;AASA,MAAM,aAAa,IAAI,yGAAA,CAAA,SAAM,CAC3B;IACE,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,eAAe;QAAC;YAAE,MAAM;QAAO;KAAE;AACnC,GACA;IACE,YAAY;AACd;AAGF,MAAM,OAAO,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,yGAAA,CAAA,UAAQ,CAAC,KAAK,CAAQ,QAAQ;uCAEpD","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ahmad%20Alhraki/Desktop/moonflex/src/lib/dbConnect.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI;\r\n\r\nconst connectToDB = async () => {\r\n  if (!MONGODB_URI) {\r\n    throw new Error(\"Missing MONGODB_URI in environment variables\");\r\n  }\r\n\r\n  // إذا تم الاتصال مسبقاً، لا تعيد الاتصال\r\n  if (mongoose.connections[0].readyState) return;\r\n\r\n  try {\r\n    await mongoose.connect(MONGODB_URI, {\r\n      dbName: \"moonflex\", // غيرها حسب اسم قاعدة بياناتك\r\n    });\r\n\r\n    console.log(\"✅ MongoDB connected\");\r\n  } catch (error) {\r\n    console.error(\"❌ MongoDB connection error:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default connectToDB;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C,MAAM,cAAc;IAClB,IAAI,CAAC,aAAa;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,yCAAyC;IACzC,IAAI,yGAAA,CAAA,UAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE;IAExC,IAAI;QACF,MAAM,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,aAAa;YAClC,QAAQ;QACV;QAEA,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM;IACR;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ahmad%20Alhraki/Desktop/moonflex/src/lib/actions/checkAuthAction.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { cookies } from \"next/headers\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport User from \"../models/User\";\r\nimport connectToDB from \"../dbConnect\";\r\n\r\nconst JWT_SECRET = process.env.JWT_SECRET as string;\r\n\r\nexport const checkAuth = async () => {\r\n  try {\r\n    await connectToDB();\r\n\r\n    // الطريقة الصحيحة لاستدعاء الكوكيز\r\n    const cookieStore = cookies();\r\n    const token = (await cookieStore).get(\"token\")?.value;\r\n\r\n    if (!token) return { user: null };\r\n\r\n    const decoded = jwt.verify(token, JWT_SECRET) as { id: string };\r\n    const user = await User.findById(decoded.id).select(\"-password\");\r\n\r\n    const plainUser = {\r\n      name: user.name,\r\n      email: user.email,\r\n      favoriteFilms: user.favoriteFilms,\r\n    };\r\n\r\n    return { user: plainUser };\r\n  } catch (error) {\r\n    console.error(\"Auth check error:\", error);\r\n    const cookieStore = cookies();\r\n    (await cookieStore).delete(\"token\");\r\n\r\n    return { user: null };\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU;AAElC,MAAM,YAAY;IACvB,IAAI;QACF,MAAM,CAAA,GAAA,uHAAA,CAAA,UAAW,AAAD;QAEhB,mCAAmC;QACnC,MAAM,cAAc,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;QAC1B,MAAM,QAAQ,CAAC,MAAM,WAAW,EAAE,GAAG,CAAC,UAAU;QAEhD,IAAI,CAAC,OAAO,OAAO;YAAE,MAAM;QAAK;QAEhC,MAAM,UAAU,qIAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO;QAClC,MAAM,OAAO,MAAM,4HAAA,CAAA,UAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC;QAEpD,MAAM,YAAY;YAChB,MAAM,KAAK,IAAI;YACf,OAAO,KAAK,KAAK;YACjB,eAAe,KAAK,aAAa;QACnC;QAEA,OAAO;YAAE,MAAM;QAAU;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qBAAqB;QACnC,MAAM,cAAc,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;QAC1B,CAAC,MAAM,WAAW,EAAE,MAAM,CAAC;QAE3B,OAAO;YAAE,MAAM;QAAK;IACtB;AACF;;;IA3Ba;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ahmad%20Alhraki/Desktop/moonflex/src/app/layout.tsx"],"sourcesContent":["// src/app/layout.tsx\r\nimport type { Metadata } from \"next\";\r\nimport Navigation from \"../components/Navigation\";\r\n\r\n// Import global CSS and Google Font\r\nimport \"../styles/globals.css\";\r\nimport { League_Spartan } from \"next/font/google\";\r\nimport { NetflixFooter } from \"@/components/Footer\";\r\nimport ReduxProvider from \"@/providers/redux-provider\";\r\nimport QueryProvider from \"@/providers/QueryClient-Provider\";\r\nimport { checkAuth } from \"@/lib/actions/checkAuthAction\";\r\n// import { checkAuth } from \"@/lib/actions/checkAuthAction\";\r\n\r\n// Load font\r\nconst neuton = League_Spartan({ subsets: [\"latin\"], weight: \"400\" });\r\n\r\n// Metadata for SEO\r\nexport const metadata: Metadata = {\r\n  title: \"Create Next App\",\r\n  description: \"Generated by create next app\",\r\n};\r\n\r\n// Root layout component\r\nexport default async function RootLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const { user } = await checkAuth();\r\n\r\n  return (\r\n    <html lang=\"en\">\r\n      <head>\r\n        {/* Favicon for the browser */}\r\n        <link rel=\"icon\" href=\"/favicon.ico\" />\r\n\r\n        {/* Apple touch icon for home screen */}\r\n        <link rel=\"apple-touch-icon\" href=\"/favicon.ico\" />\r\n        <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/favicon.ico\" />\r\n        <link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"/favicon.ico\" />\r\n        <link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"/favicon.ico\" />\r\n\r\n        {/* For Android Chrome */}\r\n        <meta name=\"mobile-web-app-capable\" content=\"yes\" />\r\n        <link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"/favicon.ico\" />\r\n      </head>\r\n      <body\r\n        className={`${neuton.className} antialiased select-none duration-300`}\r\n      >\r\n        <QueryProvider></QueryProvider>\r\n       \r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;;AASrB;AACA;;;;;;AAOO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAGe,eAAe,WAAW,EACvC,QAAQ,EAGT;IACC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAA,GAAA,wIAAA,CAAA,YAAS,AAAD;IAE/B,qBACE,8OAAC;QAAK,MAAK;;0BACT,8OAAC;;kCAEC,8OAAC;wBAAK,KAAI;wBAAO,MAAK;;;;;;kCAGtB,8OAAC;wBAAK,KAAI;wBAAmB,MAAK;;;;;;kCAClC,8OAAC;wBAAK,KAAI;wBAAmB,OAAM;wBAAU,MAAK;;;;;;kCAClD,8OAAC;wBAAK,KAAI;wBAAmB,OAAM;wBAAU,MAAK;;;;;;kCAClD,8OAAC;wBAAK,KAAI;wBAAmB,OAAM;wBAAU,MAAK;;;;;;kCAGlD,8OAAC;wBAAK,MAAK;wBAAyB,SAAQ;;;;;;kCAC5C,8OAAC;wBAAK,KAAI;wBAAO,MAAK;wBAAY,OAAM;wBAAU,MAAK;;;;;;;;;;;;0BAEzD,8OAAC;gBACC,WAAW,GAAG,kJAAA,CAAA,UAAM,CAAC,SAAS,CAAC,qCAAqC,CAAC;0BAErE,cAAA,8OAAC,4IAAA,CAAA,UAAa;;;;;;;;;;;;;;;;AAKtB","debugId":null}}]
}